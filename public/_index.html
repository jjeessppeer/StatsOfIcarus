<!DOCTYPE html>
<html lang="en">

<head>
  <title>Best Boats</title>
  <link rel="icon" href="images/blimp-icon.png" type="image/x-icon" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script type="importmap">
    {
      "imports": {
        "clsx": "https://cdn.jsdelivr.net/npm/clsx@2.0.0/dist/clsx.mjs",
        "simpleheat": "https://cdn.jsdelivr.net/npm/simpleheat@0.4.0/+esm",
        "qs": "https://cdn.jsdelivr.net/npm/qs@6.11.2/+esm"
      }
    }
  </script>


  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>
  <!-- <script src="https://unpkg.com/recharts@2.9.3/umd/Recharts.js"></script> -->

  <script src=" https://cdn.jsdelivr.net/npm/lz-string@1.5.0/libs/lz-string.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/darkreader@4.9.69/darkreader.min.js"></script>

  <!-- ChartJS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.0.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
  
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  
  <script src="js/utils.js"></script>
  <script type="module" src="js/MatchHistory/matchHistory.js"></script>
  <script type="module" src="js/DamageCalculator.js"></script>
  <script type="module" src="js/shipBuilder.js"></script>
  <script type="module" src="js/TournamentRandomizer.js"></script>
  <script type="module" src="js/SpawnMaps.js"></script>
  <script type="module" src="js/scsTime.js"></script>

  <script type="module" src="web-components/Components.js"></script>
  <link rel="stylesheet" href="web-components/Style.css">

  <link rel="stylesheet" href="css/index.css">


</head>

<body>

  <div class="wrapper">
    <!-- Sidebar  -->
    <nav id="sidebar">
      <div class="sidebar-header">
        <h3>Stats of Icarus</h3>
        <div class="custom-control custom-switch">
          <input type="checkbox" class="custom-control-input" id="darkModeSwitch">
          <label class="custom-control-label" for="darkModeSwitch">DARK MODE</label>
        </div>
        <div>
        </div>
        <br>
        <div id="scsTime">
          SCS12:32:14
        </div>
      </div>
      <div class="sidebar-header collapsed">
        <h3><i class="fas fa-atom"></i></h3>
      </div>

      <ul class="list-unstyled components">
        <li id="matchHistoryLink" data-show="#matchHistory">
          <a href="#matchHistory">
            <i class="fas fa-glasses"></i>
            Match history
          </a>
        </li>
        <li id="shipBuilderLink" data-show="#shipBuilder">
          <a href="#shipBuilder">
            <i class="fas fa-hammer"></i>
            Ship builder
          </a>
        </li>
        <li id="damageCalculatorLink" data-show="#damageCalculator">
          <a href="#damageCalculator" class="active">
            <i class="fas fa-bomb"></i>
            Damage calculator
          </a>
        </li>
        <li data-show="#repairTools">
          <a href="#repairTools">
            <i class="fas fa-hammer"></i>
            Repair tools
          </a>
        </li>
        <li id="mapSpawnsLink" data-show="#spawns">
          <a href="#spawns">
            <i class="fas fa-map"></i>
            Spawns
          </a>
        </li>
        <li id="mapRandomizerLink" data-show="#mapRandomizer">
          <a href="#mapRandomizer">
            <i class="fas fa-random"></i>
            Map randomizer
          </a>
        </li>
        <li id="aboutLink" data-show="#about">
          <a href="#about">
            <i class="far fa-question-circle"></i>
            About
          </a>
        </li>
      </ul>
    </nav>
    <!-- Page Content  -->
    <div id="content" class="container-fluid">

      <div id="matchHistory" class="content-panel" style="display:none">
      </div>

      <div id="shipBuilder" class="content-panel" style="display:none">
        <div id="shipBuilderReactRoot">
        </div>
      </div>

      <div id="damageCalculator" class="content-panel" style="display:none">
        <div id="dcReactRoot">
        </div>
      </div>

      <div id="repairTools" class="content-panel" style="display:none">
        <div id="repairToolsReactRoot">
        </div>
      </div>

      <div id="spawns" class="content-panel" style="display:none">
        
        <h2>Spawn points</h2>
        <div class="input-group" style="width:250px;">
          <div class="input-group-prepend">
            <div class="input-group-text">Map</div>
          </div>
          <select class="form-control" id="spawnMapSelect" autocomplete="off">
          </select>
          <img id="spawnImage" src="/images/spawn-images/2v2DM_CanyonAmbush.jpg" width="700" height="700">
        </div>
      </div>

      <div id="mapRandomizer" class="content-panel" style="display:none">
        <div id="mapsReactRoot">
        </div>
      </div>

      <!-- About -->
      <div id="about" class="content-panel" style="display:none">
        <h4>Source code</h4>
        Website: <a href="https://github.com/jjeessppeer/StatsOfIcarus">https://github.com/jjeessppeer/StatsOfIcarus</a>
        <br>
        Match history mod: <a href="https://github.com/jjeessppeer/MatchHistoryMod">https://github.com/jjeessppeer/MatchHistoryMod</a>
        <br>
        Data dump mod: <a href="https://github.com/jjeessppeer/GoioInfoDumpMod">https://github.com/jjeessppeer/GoioInfoDumpMod</a>
        <br>
        <br>
        <h4>Contact</h4>
          Send me a message on discord or an email if you have some kind of input related to the site.
          <br>
          GitHub: <a href="https://github.com/jjeessppeer/">https://github.com/jjeessppeer/</a>
          <br>
          Email: jjeessppeer@gmail.com
          <br>
          Discord: <a href="https://discordapp.com/users/224944294350422018">jesper4</a>
      </div>


    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      DarkReader.setFetchMethod(window.fetch);
      document.querySelectorAll("#sidebar a").forEach(el => el.addEventListener('click', openPageFromUrl));
      // Setup dark mode
      let dark_mode_switch = document.getElementById("darkModeSwitch");
      dark_mode_switch.addEventListener("change", function () {
        if (this.checked) {
          DarkReader.enable({ brightness: 100, contrast: 100 });
          document.cookie = "dark_mode=true";
        }
        else {
          DarkReader.disable();
          document.cookie = "dark_mode=false";
        }
      });
      dark_mode_switch.checked = getCookie("dark_mode") == "true";
      dark_mode_switch.dispatchEvent(new InputEvent('change'));

      const activeTabLink = document.querySelector("[data-show='#" + window.location.hash.substr(1).split("?")[0] + "'] > a");
      if (activeTabLink) activeTabLink.dispatchEvent(new Event('click'));
      else document.querySelector("#sidebar [data-show='#matchHistory'] > a").dispatchEvent(new Event('click'));
    });

    function openPageFromUrl(evt) {
      const href = evt.target.hash;
      const links = document.querySelectorAll("#sidebar a")
      const activeLink = document.querySelector("#sidebar [data-show='"+href+"'] > a");
      links.forEach(a => a.classList.remove('active'));
      activeLink.classList.add('active');
      const contentDivs = document.querySelectorAll("#content > .content-panel");
      const activeDiv = document.querySelector(href);
      contentDivs.forEach(div => div.style.display = 'none');
      activeDiv.style.display = 'block';
    }

  </script>


</body>

</html>