<!DOCTYPE html>
<html lang="en">

<head>
  <title>Best Boats</title>
  <link rel="icon" href="images/blimp-icon.png" type="image/x-icon" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script> -->


  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>
  <script src="https://unpkg.com/recharts@2.9.3/umd/Recharts.js"></script>

  <script type="importmap">
    {
      "imports": {
        "clsx": "https://cdn.jsdelivr.net/npm/clsx@2.0.0/dist/clsx.mjs",
        "simpleheat": "https://cdn.jsdelivr.net/npm/simpleheat@0.4.0/+esm"
      }
    }
  </script>

  <!-- <script type="importmap">
    {
      "imports": {
        "square": "./module/shapes/square.js",
        "circle": "https://example.com/shapes/circle.js"
      }
    }
  </script> -->
  

  <script src="deps/jquery-3.4.1.min.js"></script>
  <script src="deps/popper.min.js"></script>
  <script src="deps/bootstrap-4.3.1.min.js"></script>
  <script src="deps/lz-string-1.4.4.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.0.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
  
  <!-- <script src="deps/Chart-2.8.0.min.js"></script> -->
  <!-- <script src="deps/chartjs-plugin-datalabels-0.5.0.js"></script> -->


  <script src="deps/darkreader-4.9.22.js"></script>
  <script src="deps/jquery-ui-1.12.1.min.js"></script>
  
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
    crossorigin="anonymous">
  <link rel="stylesheet" href="deps/jquery-ui-1.12.1.min.css">
  <link rel="stylesheet" href="deps/bootstrap-4.3.1.min.css">
  
  <script src="js/utils.js"></script>
  <script src="js/scsTime.js"></script>
  <script src="js/aimCalculator.js"></script>
  <script src="js/shipBuilderTranslations.js"></script>

  <script type="module" src="js/MatchHistory/matchHistory.js"></script>
  <script type="module" src="js/DamageCalculator.js"></script>
  <script type="module" src="js/shipBuilder.js"></script>
  <script type="module" src="js/mapSpawns.js"></script>

  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/MatchHistory.css">
  <link rel="stylesheet" href="css/HistorySearch.css">
  <link rel="stylesheet" href="css/HistoryGraphs.css">
  <link rel="stylesheet" href="css/PlayerShipRates.css">
  <link rel="stylesheet" href="css/MatchHistory/FancySearch.css">
  <link rel="stylesheet" href="css/MatchHistory/PlayerInfo.css">
  <link rel="stylesheet" href="css/MatchHistory/EloCard.css">
  <link rel="stylesheet" href="css/MatchHistory/LeaderboardCard.css">
  <link rel="stylesheet" href="css/ShipStats/IconDropdown.css">
  <link rel="stylesheet" href="css/TournamentGenerator.css">

  <link rel="stylesheet" href="css/ShipStats/LoadoutOverview.css">
  <link rel="stylesheet" href="css/ShipStats/LoadoutSettings.css">
  <link rel="stylesheet" href="css/MatchHistory/HeatmapTab.css">
  <link rel="stylesheet" href="css/MatchHistory/Slider.css">
  <link rel="stylesheet" href="css/DamageCalculator.css">
  <link rel="stylesheet" href="css/ShipBuilder.css">


</head>

<body>

  <div class="wrapper">
    <!-- Sidebar  -->
    <nav id="sidebar">
      <div class="sidebar-header">
        <h3>Stats of Icarus</h3>
        <div class="custom-control custom-switch">
          <input type="checkbox" class="custom-control-input" id="darkModeSwitch">
          <label class="custom-control-label" for="darkModeSwitch">DARK MODE</label>
        </div>
        <div>
          <!-- Latest update: <a href="https://discordapp.com/channels/99903812700999680/562361262340833290/737086849822097420" style="color: blue;">
            <u>2020-07-27</u></a> -->
        </div>
        <br>
        <div id="scsTime">
          SCS12:32:14
        </div>
      </div>
      <div class="sidebar-header collapsed">
        <h3><i class="fas fa-atom"></i></h3>
      </div>

      <ul class="list-unstyled components">

        <li id="matchHistoryLink" data-show="#matchHistory">
          <a href="#matchHistory">
            <i class="fas fa-glasses"></i>
            Match history
          </a>
        </li>
        <li id="shipBuilderLink" data-show="#shipBuilder">
          <a href="#shipBuilder">
            <i class="fas fa-hammer"></i>
            Ship builder
          </a>
        </li>

        <li id="damageCalculatorLink" data-show="#damageCalculator">
          <a href="#damageCalculator" class="active">
            <i class="fas fa-bomb"></i>
            Damage calculator
          </a>
        </li>

        <li id="projectileArcsLink" data-show="#projectileArcs">
          <a href="#projectileArcs">
            <i class="fas fa-meteor"></i>
            Projectile arcs
          </a>
        </li>
        <li id="mapSpawnsLink" data-show="#spawns">
          <a href="#spawns">
            <i class="fas fa-map"></i>
            Spawns
          </a>
        </li>
        <li id="mapRandomizerLink" data-show="#mapRandomizer">
          <a href="#mapRandomizer">
            <i class="fas fa-random"></i>
            Map randomizer
          </a>
        </li>
        <li id="aboutLink" data-show="#about">
          <a href="#about">
            <i class="far fa-question-circle"></i>
            About
          </a>
        </li>

      </ul>

    </nav>
    <!-- Page Content  -->
    <div id="content" class="container-fluid">

      <div id="matchHistory" class="content-panel" style="display:none">
        <div id="ModInfobox">
          <span>
          <a href="https://github.com/jjeessppeer/MatchHistoryMod" target="_blank">
            Install the mod to have your match history uploaded
            <svg viewBox="0 0 24 24"><use href="icons.svg#launch" /></svg>
          </a>
          </span>
        </div>
        <div id="matchHistorySearch">
            
        </div>
        <br>
        <div class="content-area">
          <div class="left-area">
          </div>
          
          <div class="middle-area">
            <div class="top-area">
            </div>
            <div class="right-area">
            </div>
          </div>
        </div>

      </div>

      <div id="shipBuilder" class="content-panel" style="display:none">
        <div id="shipBuilderReactRoot">
        </div>
      </div>

      <div id="damageCalculator" class="content-panel" style="display:block">
        <div id="dcReactRoot">
        </div>
      </div>

      <div id="projectileArcs" class="content-panel" style="display:none">
        <h1>Projectile arcs and aiming</h1>
        <div class="row row-margin">
          <div class="col-sm-4">
            <div class="input-group">
              <div class="input-group-prepend small">
                <div class="input-group-text">Gun</div>
              </div>
              <select class="form-control" id="arcGunSelect" autocomplete="off">
                <option>Lumberjack</option>
                <!-- <option>Hades</option> -->
                <option>Heavy Flak Mk. II</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row row-margin">
          <div class="col-sm-4">
            <div class="input-group">
              <div class="input-group-prepend small">
                <div class="input-group-text">Ammo</div>
              </div>
              <select class="form-control" id="arcAmmoSelect" autocomplete="off">
                <option>Normal</option>
                <option>Lochnagar</option>
                <option>Heavy</option>
                <option>Incendiary</option>
                <option>Burst</option>
                <option>Greased</option>
                <option>Lesmok</option>
                <option>Heatsink</option>
                <option>Charged</option>
                <option>Extended</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row row-margin">
          <div class="col-sm-4">
            <div class="input-group">
              <div class="input-group-prepend small">
                <div class="input-group-text">Map</div>
              </div>
              <select class="form-control" id="arcMapSelect" autocomplete="off">
                <option>Battle on the Dunes</option>
                <option selected>Northern Fjords</option>
              </select>
            </div>
          </div>
        </div>
        <!-- <h5>Drag the points on either of the first images to change altitudes and distances.</h5>Â¨ -->

        <div class="sbs-container">
          <div id="mapContainer" class="img-canvas-container sbs-column">
            <b>Select ship positions (distance)</b>
            <br>
            <img id="mapImage" class='img' src="images/map-images/Fjords.jpg" width="400" height="400" />
            <canvas id="mapCanvas" width="400" height="400">Your browser does not support the HTML5 canvas tag.</canvas>
          </div>

          <div class="sbs-column">
            <b>Projectile arc side view. Height changeable.</b>
            <br>
            <canvas id="arcCanvas" width="400" height="400" style="border:1px solid #d3d3d3;">
              Your browser does not support the HTML5 canvas tag.</canvas>
          </div>
        </div>


        <div class="sbs-container">
          <div class="sbs-column">

            <b>Gunner view, aim with the red line</b>
            <br>
            <div id="gunContainer" class="img-canvas-container column">
              <img id="gunImage" class='img' src="images/gun-images/lumberjack.jpg" width="334" height="400" />
              <canvas id="gunCanvas" width="334" height="400">
                Your browser does not support the HTML5 canvas tag.</canvas>
            </div>
          </div>

          <div class="sbs-column">
            <b>Data</b>
            <table id="arcDataTable" class="fixed table table-bordered">
              <tr>
                <th class="medium">Time to hit</th>
                <td id="arcTableTime">10m</td>
              </tr>
              <tr>
                <th class="medium">Distance</th>
                <td id="arcTableDistance">10s</td>
              </tr>
              <tr>
                <th class="medium">Aim angle over target</th>
                <td id="arcTableAngleRel">10</td>
              </tr>
              <tr>
                <th class="medium">Aim angle over horizon</th>
                <td id="arcTableAngleAbs">10</td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <div id="spawns" class="content-panel" style="display:none">
        
        <h2>Spawn points</h2>
        <div class="input-group" style="width:250px;">
          <div class="input-group-prepend">
            <div class="input-group-text">Map</div>
          </div>
          <select class="form-control" id="spawnMapSelect" autocomplete="off">
          </select>
        </div>
      </div>

      <div id="mapRandomizer" class="content-panel" style="display:none">
        <div id="mapsReactRoot">

        </div>
      </div>

      <!-- About -->
      <div id="about" class="content-panel" style="display:none">
        <h4>Source code</h4>
          Source code avaiable on GitHub at <a href="https://github.com/jjeessppeer/StatsOfIcarus">https://github.com/jjeessppeer/StatsOfIcarus</a>
        <br>
        <br>
        <h4>Contact</h4>
          Send me a message on discord or an email if you have some kind of input related to the site.
          <br>
          GitHub: <a href="https://github.com/jjeessppeer/">https://github.com/jjeessppeer/</a>
          <br>
          Email: jjeessppeer@gmail.com
          <br>
          Discord: <a href="https://discordapp.com/users/224944294350422018">jesper4</a>
      </div>


    </div>


  </div>

  <script>
    $(document).ready(function () {
      
      $("#sidebar a").on("click", openPageFromUrl);

      // Setup dark mode
      let dark_mode_switch = $("#darkModeSwitch");
      dark_mode_switch.on("change", function() {
        if (this.checked){
          DarkReader.enable({brightness: 100, contrast: 100});
          document.cookie = "dark_mode=true";
        }
        else{
          DarkReader.disable();
          document.cookie = "dark_mode=false";
        }
        // updateRangeVis();
        // updateArcPanel();
      });
      
      dark_mode_switch.prop("checked", getCookie("dark_mode")=="true");
      dark_mode_switch.trigger("change");
      $("[data-show='#" + window.location.hash.substr(1).split("?")[0] + "'] > a").trigger("click");
      
    });


    // initializeSpawns();
    updateScsTime();

    function openPageFromUrl() {
      let tab_href = $(this).attr('href').split("?")[0];
      $("#sidebar a").removeClass("active");
      $("#sidebar [data-show='"+tab_href+"'] > a").addClass("active");
      var div = $(tab_href).show();
      div.siblings("div").hide();
    }

  </script>


</body>

</html>